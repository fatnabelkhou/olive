{"ast":null,"code":"import * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './component-loader';\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { Injector, ComponentFactoryResolver, Injectable, ApplicationRef, NgZone } from '@angular/core';\nimport { Params } from './params';\nimport { ComponentLoader } from './component-loader';\n/**\n * @object PopoverFactory\n */\n\nvar PopoverFactory =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function PopoverFactory(_injector, _resolver, _appRef, _componentLoader, _zone) {\n    this._injector = _injector;\n    this._resolver = _resolver;\n    this._appRef = _appRef;\n    this._componentLoader = _componentLoader;\n    this._zone = _zone;\n  }\n\n  PopoverFactory.prototype.createPopover = function (componentType, params) {\n    var _this = this;\n\n    if (params === void 0) {\n      params = {};\n    }\n\n    console.warn('[ngx-onsenui] PopoverFactory is deprecated since 4.0.0-rc.0. Place <ons-popover> into your component instead.');\n    return new Promise(function (resolve) {\n      setImmediate(function () {\n        _this._zone.run(function () {\n          var factory = _this._resolver.resolveComponentFactory(componentType);\n\n          var injector = Injector.create({\n            providers: [{\n              provide: Params,\n              useValue: new Params(params)\n            }],\n            parent: _this._injector\n          });\n          var componentRef = factory.create(injector);\n          var rootElement = componentRef.location.nativeElement;\n\n          _this._componentLoader.load(componentRef);\n\n          var element = rootElement.children[0];\n          var popoverElement = element.tagName === 'ONS-POPOVER' ? element : element.querySelector('ons-popover');\n\n          if (!popoverElement) {\n            throw Error('<ons-popover> element is not found in component\\'s template.');\n          }\n\n          resolve({\n            popover: popoverElement,\n            destroy: function destroy() {\n              return componentRef.destroy();\n            }\n          });\n        });\n      });\n    });\n  };\n\n  PopoverFactory = __decorate([__metadata(\"design:paramtypes\", [Injector, ComponentFactoryResolver, ApplicationRef, ComponentLoader, NgZone])], PopoverFactory);\n\n  PopoverFactory.ɵfac = function PopoverFactory_Factory(t) {\n    return new (t || PopoverFactory)(ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoader), ɵngcc0.ɵɵinject(ɵngcc0.NgZone));\n  };\n\n  PopoverFactory.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n    token: PopoverFactory,\n    factory: function factory(t) {\n      return PopoverFactory.ɵfac(t);\n    }\n  });\n  return PopoverFactory;\n}();\n\nexport { PopoverFactory }; //# sourceMappingURL=popover-factory.js.map","map":null,"metadata":{},"sourceType":"module"}